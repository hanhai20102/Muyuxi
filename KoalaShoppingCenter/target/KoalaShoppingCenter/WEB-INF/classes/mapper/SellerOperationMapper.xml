<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.netease.dao.SellerOperationMapper">
    <select id="queryAllCommoditysBySeller" parameterType="int" resultType="commodity">
      SELECT * FROM  commodity where userID = #{userID};
    </select>

    <insert id="insertCommodity" parameterType="commodity">
      insert into commodity (title, abstractMsg, currentPrice, text, picture, soldAmount, userID)
      values (#{title,jdbcType=VARCHAR},#{abstractMsg,jdbcType=VARCHAR},#{currentPrice,jdbcType=DECIMAL},#{text,jdbcType=VARCHAR},
      #{picture,jdbcType=VARCHAR},#{soldAmount,jdbcType=INTEGER},#{userID,jdbcType=TINYINT});
    </insert>

    <select id="queryCommodityInfo" parameterType="int" resultType="commodity">
      select * from commodity where commodityID = #{commodityID};
    </select>

    <update id="updateCommodityInfo" parameterType="commodity">
      update commodity
      <set>
        <if test="title != null">
            title = #{title,jdbcType=VARCHAR},
        </if>
        <if test="abstractMsg != null">
            abstractMsg = #{abstractMsg,jdbcType=VARCHAR},
        </if>
        <if test="picture != null">
            picture = #{picture,jdbcType=VARCHAR},
        </if>
        <if test="text != null">
            text = #{text,jdbcType=VARCHAR},
        </if>
        <if test="currentPrice != null">
            currentPrice = #{currentPrice,jdbcType=DECIMAL},
        </if>
      </set>
        WHERE commodityID = #{commodityID};
    </update>

    <delete id="deleteUnSellCommodity" parameterType="int">
        DELETE FROM commodity WHERE commodityID = #{commodityID};
    </delete>

    <select id="queryCountOfCommodity" parameterType="int" resultType="int">
      SELECT COUNT(*) FROM `commodity` WHERE userID = #{userID};
    </select>


</mapper>